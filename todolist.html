<html>
<head>
    <link rel="stylesheet" href="todo.css">
    
    <script
    src="https://code.jquery.com/jquery-3.4.1.js"
    integrity="sha256-WpOohJOqMqqyKL9FccASB9O0KwACQJpFTUBLTYOVvVU="
    crossorigin="anonymous">  
    </script>
    
    <title>TODOLIST</title>
</head>
<body>
    <div class="container">
        <h1 style="text-align:center">待辦清單ToDoList</h1>
        <div class="panel">
            待辦事項:
            <input type="text" id="input">
            <button id="add" onclick="addcontent()">新增</button>
        </div>
        <div class="list"> 
            <div class="toDos">
                <input type="checkbox" class="status">
                <p>預設</p>
                <button class="delete">X</button>
            </div>

        </div>
    </div>

    <script>
        $(document).ready(function(){ 
            $("#add").click(function addcontent(){  //新增事項
                
                if(keyCode == 32){
                    alert("欄位不能為空");
                }
                else{
                var inputValue = $("#input").val();
                var content =
                `<div class="toDos">
                <input type="checkbox" class="status" onclick="done()">
                <p>${inputValue}</p>
                <button class="delete" onclick="deletecontent()">X</button></div>`

                $(".list").append(content);
                // document.getElementById("input").value="";
                // $("#input").attr("value","");
                // $("#input").value = "";
                $("#input").val("");
                }
                });

            // $(".status").click(function done(){ 
            //     var status = $(this).prop("checked"); //prop回傳true false
            //     if(status == true){
            //         $(this).parent().children("p").css({"text-decoration": "line-through"});
            //     }
            //     else{
            //         $(this).parent().children("p").css({"text-decoration": "none"});
            //     }
            // });

            $(document).on('click','.status',function(){ //判斷checkbox
                var status = $(this).prop("checked"); //prop回傳true false
                if(status == true){
                    $(this).parent().children("p").css({"text-decoration": "line-through"});
                }
                else{
                    $(this).parent().children("p").css({"text-decoration": "none"});
                }
            });

            // $(".delete").click(function deletecontent(){ //刪除事項
            //     $(this).parent().remove();
            // });
            
            $(document).on('click','.delete',function(){
            $(this).parent().remove();
            });
        });
    </script>
</body>
</html>